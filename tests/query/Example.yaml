tosca_definitions_version: tosca_simple_yaml_1_3

topology_template:
    node_templates:
        webapp:
            type: WebApplication
            requirements:
                - database_endpoint: mysql_database
                - host: tomcat
        tomcat:
            type: Tomcat
            requirements:
                - host: vm
        mysql_database:
            type: Database
            requirements:
                - host: dbms
        dbms:
            type: DBMS
            requirements:
                - host: dbms
        vm_1:
            type: SoftwareComponent
            requirements:
                - host: openstack
        vm_2:
            type: SoftwareComponent
            requirements:
                - host: openstack
        openstack:
            type: Compute
            capabilities:
                host:
                    properties:
                        num_cpus: 1
                        mem_size: 2 GB
            os:
                properties:
                    type: linux
                    distribution: ubuntu